# ğŸŒ AWS WAFv2 Geo-Fencing Terraform Module

This Terraform module creates an AWS WAFv2 Web ACL that **allows traffic only from specified countries** (default is India ğŸ‡®ğŸ‡³) and blocks all others. The WAF can be attached to an **Application Load Balancer (ALB)** or **CloudFront Distribution**.

---

## ğŸš€ Features

- âœ… Geo-based access control using AWS WAFv2 `GeoMatchStatement`
- âœ… Default block for non-matching countries
- âœ… Supports attachment to:
  - Application Load Balancers (ALB)
  - CloudFront Distributions
- âœ… CloudWatch metrics enabled
- âœ… Fully parameterized and reusable

---

## ğŸ“ Module Structure

india-ai-waf/
â”œâ”€â”€ main.tf # Example usage
â”œâ”€â”€ variables.tf # (optional)
â”œâ”€â”€ outputs.tf # (optional)
â””â”€â”€ modules/
    â””â”€â”€ waf/
        â”œâ”€â”€ main.tf
        â”œâ”€â”€ variables.tf
        â””â”€â”€ outputs.tf




---

## ğŸ§© Usage
(The main.tf which is in the root folder have the required comments which can tell you about the usage of this terraform code)
Hereâ€™s how you can use this module in your Terraform project:

```hcl
module "waf" {
  source                = "./modules/waf"
  region                = "ap-south-1"  # or "us-east-1" for CloudFront
  scope                 = "REGIONAL"    # or "CLOUDFRONT"
  name                  = "geo-fencing-web-acl"
  description           = "WAF to allow only India traffic"
  allowed_country_codes = ["IN"]
  metric_name           = "geoFencingACL"

  associate_to_resource = true
  resource_arn          = "arn:aws:elasticloadbalancing:ap-south-1:123456789012:loadbalancer/app/my-alb/abcd1234abcd1234"

  tags = {
    Environment = "dev"
    Project     = "india-ai"
  }
}
